<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChessAgenticCoding</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <header class="topbar">
      <h1>ChessAgenticCoding</h1>
      <div class="controls">
        <button id="newGameBtn">New Game</button>
        <button id="resignBtn">Resign</button>
      </div>
    </header>

    <main class="layout">
      <section class="primary">
        <div class="board-wrap">
          <div id="board" class="board" aria-label="Chessboard" role="grid"></div>
        </div>
        <div class="status" id="status"></div>
        <div class="moves" id="moves"></div>
      </section>
      <section class="analysis-panel">
        <h2>Bot Analysis</h2>
        <div id="analysisBoard" class="board analysis" aria-label="Bot analysis board" role="grid"></div>
        <div class="analysis-info" id="analysisInfo">Waiting for bot...</div>
        <div class="analysis-timer">
          <span class="timer-label">Think time:</span>
          <span id="analysisTimerLabel">--.-s</span>
        </div>
      </section>
    </main>

    <dialog id="newGameDialog">
      <form method="dialog" id="newGameForm">
        <h2>New Game</h2>
        <label>Choose your side:</label>
        <div class="row">
          <label><input type="radio" name="side" value="w" checked /> White</label>
          <label><input type="radio" name="side" value="b" /> Black</label>
        </div>
        <label for="botStyle">Bot style</label>
        <select id="botStyle" name="botStyle">
          <option value="strategic" selected>Strategic (deeper)</option>
          <option value="fast">Fast (responsive)</option>
        </select>
        <label for="sampleSeconds">Think time (seconds)</label>
        <input
          id="sampleSeconds"
          name="sampleSeconds"
          type="number"
          min="1"
          max="30"
          value="6"
        />
        <label for="botDepth">Strategic depth</label>
        <input
          id="botDepth"
          name="botDepth"
          type="number"
          min="1"
          max="5"
          value="3"
        />
        <small id="depthHint">Used only for the strategic bot.</small>
        <fieldset id="fastWeightsSection" class="fast-weights">
          <legend>Fast Bot Scoring</legend>
          <div class="fast-weights-grid">
            <label for="fastPawnValue">Pawn value
              <input id="fastPawnValue" name="fast_pawnValue" type="number" step="1" value="100" />
            </label>
            <label for="fastKnightValue">Knight value
              <input id="fastKnightValue" name="fast_knightValue" type="number" step="1" value="320" />
            </label>
            <label for="fastBishopValue">Bishop value
              <input id="fastBishopValue" name="fast_bishopValue" type="number" step="1" value="330" />
            </label>
            <label for="fastRookValue">Rook value
              <input id="fastRookValue" name="fast_rookValue" type="number" step="1" value="500" />
            </label>
            <label for="fastQueenValue">Queen value
              <input id="fastQueenValue" name="fast_queenValue" type="number" step="1" value="900" />
            </label>
            <label for="fastCheckPenalty">Check penalty
              <input id="fastCheckPenalty" name="fast_checkPenalty" type="number" step="1" value="-800" />
            </label>
            <label for="fastCastleBonus">Castled bonus
              <input id="fastCastleBonus" name="fast_castleBonus" type="number" step="1" value="40" />
            </label>
            <label for="fastIsolatedPenalty">Isolated pawn penalty
              <input id="fastIsolatedPenalty" name="fast_isolatedPenalty" type="number" step="1" value="-12" />
            </label>
            <label for="fastPassedBonus">Passed pawn bonus
              <input id="fastPassedBonus" name="fast_passedBonus" type="number" step="1" value="35" />
            </label>
            <label for="fastPassedRankBonus">Passed pawn rank bonus
              <input id="fastPassedRankBonus" name="fast_passedRankBonus" type="number" step="1" value="5" />
            </label>
            <label for="fastDoubledPenalty">Doubled pawn penalty
              <input id="fastDoubledPenalty" name="fast_doubledPenalty" type="number" step="1" value="-8" />
            </label>
            <label for="fastMobilityBonus">Mobility bonus
              <input id="fastMobilityBonus" name="fast_mobilityBonus" type="number" step="1" value="5" />
            </label>
            <label for="fastKnightCenterBonus">Knight center bonus
              <input id="fastKnightCenterBonus" name="fast_knightCenterBonus" type="number" step="1" value="8" />
            </label>
            <label for="fastBishopActivityBonus">Bishop activity bonus
              <input id="fastBishopActivityBonus" name="fast_bishopActivityBonus" type="number" step="1" value="6" />
            </label>
            <label for="fastRookOpenBonus">Rook open file bonus
              <input id="fastRookOpenBonus" name="fast_rookOpenBonus" type="number" step="1" value="12" />
            </label>
            <label for="fastQueenEarlyPenalty">Queen early penalty
              <input id="fastQueenEarlyPenalty" name="fast_queenEarlyPenalty" type="number" step="1" value="-12" />
            </label>
            <label for="fastAttackBonus">Threat bonus
              <input id="fastAttackBonus" name="fast_attackBonus" type="number" step="1" value="12" />
            </label>
            <label for="fastHangingPenalty">Hanging piece penalty
              <input id="fastHangingPenalty" name="fast_hangingPenalty" type="number" step="1" value="-18" />
            </label>
            <label for="fastKingRingBonus">King ring pressure bonus
              <input id="fastKingRingBonus" name="fast_kingRingBonus" type="number" step="1" value="6" />
            </label>
          </div>
          <small>Values are in centipawns (hundredths of a pawn). Positive rewards, negative penalties.</small>
        </fieldset>
        <label for="sacrificeBias">Sacrifice preference</label>
        <input
          id="sacrificeBias"
          name="sacrificeBias"
          type="range"
          min="0"
          max="100"
          value="25"
        />
        <small id="sacrificeLabel">Moderate</small>
        <menu>
          <button value="cancel">Cancel</button>
          <button value="start" id="startGameBtn">Start</button>
        </menu>
      </form>
    </dialog>

    <script type="module" src="src/app.js"></script>
  </body>
  </html>

